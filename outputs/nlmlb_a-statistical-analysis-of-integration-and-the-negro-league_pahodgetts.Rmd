---
title: "A Statistical Analysis of Integration and the Negro League"
author: "Paul A. Hodgetts"
date: "09/04/2021"
output: 
  pdf_document:
    latex_engine: lualatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r packages, echo=F, message=F, warning=F}
# uncomment any packages that require installation

# loads Lahman baseball data
# version 9.0-0
#install.packages("Lahman")

# loads tidyverse for working with data
# version 1.3.0
#install.packages("tidyverse")

# loads rvest for web scraping
# version 1.0.0
#install.packages("rvest")

# loads here for accessing directories
# version 1.0.1
#install.packages("here")
```

```{r libraries, echo=F, message=F, warning=F}
# load Lahman package
# version 9.0-0
library(Lahman)

# load tidyverse package
# version 1.3.0
library(tidyverse)

# load rvest package
# version 1.0.0
library(rvest)

# load here package
# version 1.0.1
library(here)
```

```{r load data, echo=F, message=F, warning=F}
# create list of files ending in .csv in given directory ->
# set full names to false as this will make naming objects easier
files <- list.files(here("inputs/data"), pattern = "*.csv", full.names = F)

# use for loop to load all data files
# for index location in the length of the file list
for(i in 1:length(files)){
     # assign that file name to a new object stripping the .csv ->
     assign(str_replace(files[i], ".csv", ""),
            # apply read_csv function to file ->
            # pasting directory in front of file name ->
            read_csv(here(paste0("inputs/data/", files[i]))), 
            # assign to global environment
            envir = .GlobalEnv)
}
```

```{r}
nl_player_data %>% 
     ggplot(aes(x = debut, fill = integration))+
     geom_histogram(bins = 30, stat = "count")
```


